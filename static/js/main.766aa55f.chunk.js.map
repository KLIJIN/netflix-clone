{"version":3,"sources":["requests.js","axios.js","Row.js","Banner.js","Nav.js","App.js","index.js"],"names":["requests","fetchTrending","process","fetchNetflixOriginals","fetchTopRated","fetchActionMovies","fetchComedyMovies","fetchHorrorMovies","fetchRomanceMovies","fetchDocumentaries","instance","axios","create","baseURL","Row","title","fetchUrl","isLargeRow","useState","movies","setMovies","trailerUrl","setTrailerUrl","handleClick","movie","a","get","id","trailerurl","data","results","key","useEffect","request","fetchData","className","map","src","poster_path","backdrop_path","alt","name","onClick","bind","videoId","opts","height","width","playerVars","autoplay","Banner","str","n","setMovie","style","backgroundImage","console","log","Math","floor","random","length","original_name","overview","substr","Nav","show","setShow","window","addEventListener","scrollY","removeEventListener","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.766aa55f.chunk.js","sourcesContent":["\r\n//You work is awesome! But you don't put API_KEY in src file it's not good, you must use .env  \r\n//\r\n\r\nconst requests = {\r\n  fetchTrending: `/trending/all/week?api_key=${process.env.REACT_APP_API_KEY}&language=en-US`,\r\n  fetchNetflixOriginals: `/discover/tv?api_key=${process.env.REACT_APP_API_KEY}&with_networks=213`,\r\n  fetchTopRated: `/movie/top_rated?api_key=${process.env.REACT_APP_API_KEY}&language=en-US`,\r\n  fetchActionMovies: `/discover/movie?api_key=${process.env.REACT_APP_API_KEY}&with_genres=28`,\r\n  fetchComedyMovies: `/discover/movie?api_key=${process.env.REACT_APP_API_KEY}&with_genres=35`,\r\n  fetchHorrorMovies: `/discover/movie?api_key=${process.env.REACT_APP_API_KEY}&with_genres=27`,\r\n  fetchRomanceMovies: `/discover/movie?api_key=${process.env.REACT_APP_API_KEY}&with_genres=10749`,\r\n  fetchDocumentaries: `/discover/movie?api_key=${process.env.REACT_APP_API_KEY}&with_genres=99`,\r\n};\r\n\r\nexport default requests;\r\n\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://api.themoviedb.org/3\",\r\n  // timeout: 1000\r\n});\r\n\r\nexport default instance;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"./axios.js\";\r\nimport Youtube from \"react-youtube\";\r\nconst baseImgUrl = \"https://image.tmdb.org/t/p/original\";\r\n\r\nconst Row = ({ title, fetchUrl, isLargeRow }) => {\r\n\r\n  const [movies, setMovies] = useState([]);\r\n  const [trailerUrl, setTrailerUrl] = useState(\"\");\r\n\r\n  // Options for react-youtube\r\n  const opts = {\r\n    height: \"390\",\r\n    width: \"100%\",\r\n    playerVars: {\r\n      autoplay: 1,\r\n    },\r\n  };\r\n  const handleClick = async (movie) => {\r\n    if (trailerUrl) {\r\n      setTrailerUrl(\"\");\r\n    } else {\r\n      let trailerurl = await axios.get(`/movie/${movie?.id}/videos?api_key=${process.env.REACT_APP_API_KEY}`);\r\n      setTrailerUrl(trailerurl.data.results[0]?.key);\r\n    }\r\n  }\r\n  // const url = \"https://api.themoviedb.org/3\";\r\n  // const fetchUrl_full= `${url}${fetchUrl}`;\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const request = await axios.get(fetchUrl);\r\n      setMovies(request.data.results);\r\n      return request;\r\n    }\r\n    fetchData();\r\n  }, [fetchUrl]);\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <h2>{title}</h2>\r\n      <div className=\"row__posters\">\r\n        {movies.map((movie) => (\r\n          <img\r\n            key={movie.id}\r\n            className={`row__poster ${isLargeRow && \"row__posterLarge\"}`}\r\n            src={`${baseImgUrl}${isLargeRow ? movie.poster_path : movie.backdrop_path}`}\r\n            alt={movie.name}\r\n            onClick={handleClick.bind(this, movie)}\r\n          />\r\n        ))}\r\n      </div>\r\n      {trailerUrl && <Youtube videoId={trailerUrl} opts={opts} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Row;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"./axios.js\";\r\nimport requests from \"./requests.js\";\r\n\r\nfunction Banner() {\r\n\r\n   const [movie, setMovie] = useState([]);\r\n   const style = {\r\n      backgroundImage: `url(\"https://image.tmdb.org/t/p/original${movie?.backdrop_path}\")`,\r\n   };\r\n\r\n   useEffect(() => {\r\n      async function fetchData() {\r\n         const request = await axios.get(requests.fetchNetflixOriginals);\r\n         console.log(\"Banner\", request.data.results);\r\n         setMovie(\r\n            request.data.results[\r\n            Math.floor(Math.random() * request.data.results.length)\r\n            ]\r\n         );\r\n      }\r\n      fetchData();\r\n   }, []);\r\n\r\n   console.log(\"movie\", movie);\r\n   console.log(\"movie1\", movie.name);\r\n   console.log(\"movie2\", movie?.name);\r\n   function truncate(str, n) {\r\n      return str?.length > n ? str.substr(0, n - 1) + \" ...\" : str;\r\n      //если текст больше определенного количества знаков, то он автоматически обрезается до нужной длинны.\r\n   }\r\n\r\n   return (\r\n      <header className=\"banner\" style={style}>\r\n         <div className=\"banner__contents\" >\r\n            <h1 className=\"banner__title\">\r\n               {movie?.title || movie?.name || movie?.original_name}\r\n            </h1>\r\n            <div className=\"banner__buttons\">\r\n               <button className=\"banner__button\">Play</button>\r\n               <button className=\"banner__button\">My List </button>\r\n            </div>\r\n            <h1 className=\"banner__description\">\r\n\r\n               {/* {movie.overview\r\n                  && truncate(movie.overview, 100)\r\n               } */}\r\n\r\n               {/* встроенная проверка на существование свойства, аналог записи выше */}\r\n               {truncate(movie?.overview, 100)}\r\n\r\n            </h1>\r\n            <div className=\"banner--fadeBottom\"> </div>\r\n         </div>\r\n      </header>\r\n   );\r\n}\r\nexport default Banner;\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nfunction Nav() {\r\n   const [show, setShow] = useState()\r\n\r\n   useEffect(() => {\r\n      window.addEventListener(\"scroll\", () => {\r\n         if (window.scrollY > 100) {\r\n            setShow(true)\r\n         } else {\r\n            setShow(false)\r\n         }\r\n      });\r\n      return () => {\r\n         window.removeEventListener(\"scroll\");\r\n      }\r\n   }, [])\r\n\r\n   return (\r\n      <div className={`nav ${show ? \"nav__black\" : \"\"}`} >\r\n         <img\r\n            className=\"nav__logo\"\r\n            src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/1920px-Netflix_2015_logo.svg.png\"\r\n            alt=\"Netflix Logo\"\r\n         />\r\n         <img\r\n            className=\"nav__avatar\"\r\n            src=\"https://i.pinimg.com/originals/0d/dc/ca/0ddccae723d85a703b798a5e682c23c1.png\"\r\n            alt=\"Avatar\"\r\n         />\r\n      </div>\r\n   )\r\n\r\n\r\n}\r\n\r\nexport default Nav\r\n","import React from \"react\";\nimport requests from \"./requests.js\";\nimport Row from \"./Row\";\nimport Banner from \"./Banner\";\nimport Nav from \"./Nav\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Nav />\n      <Banner />\n      <Row\n        title=\"Trending Now\"\n        fetchUrl={requests.fetchTrending}\n        isLargeRow={true}\n      />\n      <Row title=\"Top Rated\" fetchUrl={requests.fetchTopRated} />\n      <Row title=\"Action Movies\" fetchUrl={requests.fetchActionMovies} />\n      <Row title=\"Comedy Movies\" fetchUrl={requests.fetchComedyMovies} />\n      <Row title=\"Horror Movies\" fetchUrl={requests.fetchHorrorMovies} />\n      <Row title=\"Romance Movies\" fetchUrl={requests.fetchRomanceMovies} />\n      <Row title=\"Documentaries\" fetchUrl={requests.fetchDocumentaries} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/style.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}